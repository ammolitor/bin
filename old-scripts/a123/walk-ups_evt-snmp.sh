#!/bin/bash
#===============================================================================
#
#          FILE:  walk-ups_evt-snmp.sh
# 
#         USAGE:  ./walk-ups_evt-snmp.sh 
# 
#   DESCRIPTION:  Walks sgss list of OIDs and gets snmp data values from IP passed as $1
# 
#       OPTIONS:  ---
#  REQUIREMENTS:  ---
#          BUGS:  ---
#         NOTES:  ---
#        AUTHOR:  Aaron Molitor
#       COMPANY:  A123 Systems
#       VERSION:  1.0
#       CREATED:  04/24/2012  8:50:48 AM CDT
#      REVISION:  ---
#===============================================================================


# Check for proper usage
if [ $# -ne 1 ]
then
    echo -e "\n\n\tUsage: $0 [host|ip_addr]\n\n"
    exit 0
fi

ups_evt_oids=(1.3.6.1.4.1.318.1.1.1.11.1.1.0
1.3.6.1.4.1.318.1.1.10.2.3.2.1.4.1
1.3.6.1.4.1.318.1.1.10.2.3.2.1.6.1
1.3.6.1.4.1.318.1.1.1.2.2.3.0
1.3.6.1.4.1.318.1.1.10.2.3.2.1.7.1
1.3.6.1.4.1.318.1.1.10.2.3.2.1.8.1
1.3.6.1.4.1.318.1.1.10.2.3.2.1.9.1
1.3.6.1.4.1.318.1.1.10.2.3.2.1.10.1
1.3.6.1.4.1.318.1.1.10.2.2.2.1.3.1
1.3.6.1.4.1.318.1.1.10.2.2.2.1.4.1
1.3.6.1.4.1.318.1.1.10.2.2.2.1.8.1
1.3.6.1.4.1.318.1.1.10.2.2.2.1.9.1
1.3.6.1.4.1.318.1.1.10.2.2.2.1.6.1
1.3.6.1.4.1.318.1.1.10.2.2.2.1.7.1
1.3.6.1.4.1.318.1.1.10.2.2.2.1.10.1
1.3.6.1.4.1.318.1.1.10.2.2.2.1.11.1
)

for i in "${ups_evt_oids[@]}" 
do 
	snmpwalk -v 1 -c public -m /usr/local/share/snmp/mibs/powernet404.mib $1 $i
done

